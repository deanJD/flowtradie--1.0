

# -----------------------------
# Payment Types & Inputs
# -----------------------------

type Payment {
  id: ID!
  amount: Float!
  date: DateTime!
  method: String!
  notes: String

  # Relations
  invoiceId: ID!
  businessId: ID!
  invoice: Invoice!
}

# -------- INPUTS --------

input CreatePaymentInput {
  businessId: ID!
  invoiceId: ID!
  amount: Float!
  date: DateTime
  method: String!
  notes: String
}

input UpdatePaymentInput {
  amount: Float
  date: DateTime
  method: String
  notes: String
}

# -------- QUERIES --------

extend type Query {
  payments(invoiceId: ID!): [Payment!]!
}

# -------- MUTATIONS --------

extend type Mutation {
  createPayment(input: CreatePaymentInput!): Payment!
  updatePayment(id: ID!, input: UpdatePaymentInput!): Payment!
  deletePayment(id: ID!): Payment!
}
