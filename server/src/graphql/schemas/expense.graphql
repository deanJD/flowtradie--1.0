# Defines the ProjectExpense type and its related API operations for cost tracking.

type ProjectExpense {
  id: ID!
  description: String!
  amount: Float!
  date: DateTime!
  category: String!
  createdAt: DateTime!
  updatedAt: DateTime!

  # Relationship
  project: Project!
}


# --- Input Types ---

input CreateExpenseInput {
  businessId: ID!    
  projectId: ID!
  description: String!
  amount: Float!
  category: String! # e.g., "Materials", "Labor", "Permits"
  date: DateTime
}


# --- API Operations ---

extend type Query {
  # Get all expenses for a specific project
  expenses(projectId: ID!): [ProjectExpense!]! # <-- Changed
}

extend type Mutation {
  createExpense(input: CreateExpenseInput!): ProjectExpense!
  deleteExpense(id: ID!): ProjectExpense!
}