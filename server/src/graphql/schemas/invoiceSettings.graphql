# server/src/graphql/schemas/invoiceSettings.graphql

type InvoiceSettings {
  id: ID!
  businessId: ID!
  
  # ‚úÖ Merged Business Fields (Matches Prisma)
  businessName: String       # Maps to business.name
  legalName: String          # Maps to business.legalName
  registrationNumber: String 
  
  email: String
  phone: String
  website: String
  logoUrl: String
  
  # ‚úÖ Address
  address: Address

  # ‚öôÔ∏è Settings
  bankDetails: String
  invoicePrefix: String
  startingNumber: Int
  defaultDueDays: Int
  taxRate: Float
  taxLabel: String

  # üìß Email Config
  smtpHost: String
  smtpPort: Int
  smtpUser: String
  smtpPassword: String
  fromEmail: String
  fromName: String

  createdAt: DateTime!
  updatedAt: DateTime!
}

input InvoiceSettingsInput {
  # ‚úÖ Matches the Type above
  businessName: String
  legalName: String
  registrationNumber: String
  
  email: String
  phone: String
  website: String
  logoUrl: String
  
  address: AddressInput

  bankDetails: String
  invoicePrefix: String
  startingNumber: Int
  defaultDueDays: Int
  taxRate: Float
  taxLabel: String

  smtpHost: String
  smtpPort: Int
  smtpUser: String
  smtpPassword: String
  fromEmail: String
  fromName: String
}

extend type Query {
  invoiceSettings: InvoiceSettings
}

extend type Mutation {
  updateInvoiceSettings(input: InvoiceSettingsInput!): InvoiceSettings!
}