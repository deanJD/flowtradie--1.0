# Defines the types and API operations for business intelligence and reporting.

# This is the shape of the data that our Project Profitability Dashboard will receive.
type ProjectProfitability {
  totalRevenue: Float!
  totalMaterialCosts: Float!
  totalLaborCosts: Float!
  netProfit: Float!
  project: Project!
}


type DashboardSummary {
  totalOpenProjects: Int!
  invoicesDueSoon: Int!
  tasksDueToday: Int!
  totalRevenueYTD: Float!
}

extend type Query {
  # Add the @auth directive here if you use it in your schema files
  getDashboardSummary: DashboardSummary! 
}

# --- API Operations ---

extend type Query {
  # Takes a Project ID and returns a full profitability report for that project.
  projectProfitability(projectId: ID!): ProjectProfitability!
}