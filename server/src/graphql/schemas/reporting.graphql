# Defines the types and API operations for business intelligence and reporting.

# This is the shape of the data that our Job Profitability Dashboard will receive.
type JobProfitability {
  totalRevenue: Float!
  totalMaterialCosts: Float!
  totalLaborCosts: Float!
  netProfit: Float!
  job: Job!
}


type DashboardSummary {
  totalOpenJobs: Int!
  invoicesDueSoon: Int!
  tasksDueToday: Int!
  totalRevenueYTD: Float!
}

extend type Query {
  # Add the @auth directive here if you use it in your schema files
  getDashboardSummary: DashboardSummary! 
}

# --- API Operations ---

extend type Query {
  # Takes a Job ID and returns a full profitability report for that job.
  jobProfitability(jobId: ID!): JobProfitability!
}